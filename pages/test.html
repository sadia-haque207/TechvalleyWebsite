<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Modal Test</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    .product-gallery-modal{
      display: none;
      position: fixed;
      z-index: 9999;
      top: 0; left: 0; right: 0; bottom: 0;
      width: 100vw;
      height: 100vh;
    }
    .product-gallery-modal.active {
      display: block;
    }
  .product-gallery-modal .product-gallery-overlay {
    position: absolute;
    top: -26px; left: 0; right: 0; bottom: 0;
    width: 100%;
    height: 100%;
    background: var(--secondary-dark);
    opacity: 0.7;
    z-index: 1;
    transition: var(--transition-base);
  }
  .product-gallery-modal .product-gallery-content {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: var(--white);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-lg);
    padding: var(--spacing-6);
    z-index: 2;
    min-width: 320px;
    max-width: 1000px;
    width: 90vw;
    transition: var(--transition-smooth);
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .product-gallery-modal .product-gallery-close {
    position: absolute;
    top: var(--spacing-3);
    right: var(--spacing-3);
    background: transparent;
    border: none;
    font-size: var(--fs-2xl);
    color: var(--secondary);
    cursor: pointer;
    z-index: 3;
    transition: var(--transition-base);
  }
  .product-gallery-modal .product-gallery-main-img {
    width: 320px;
    max-width: 60vw;
    margin-bottom: var(--spacing-4);
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .product-gallery-modal .product-gallery-main-img img {
    width: 100%;
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-md);
    background: var(--light);
  }
  .product-gallery-modal .product-gallery-thumbnails {
    display: flex;
    gap: var(--spacing-3);
    justify-content: center;
  }
  .product-gallery-modal .gallery-thumb {
    width: 56px;
    height: 56px;
    object-fit: cover;
    border-radius: var(--radius-sm1);
    border: 2px solid var(--border-color);
    cursor: pointer;
    transition: var(--transition-base);
    background: var(--light);
  }
  .product-gallery-modal .gallery-thumb.active, .product-gallery-modal .gallery-thumb:hover {
    border-color: var(--primary);
    box-shadow: var(--shadow-sm);
  }
  .product-gallery-modal .product-details-modal-content .product-title {
    font-size: var(--fs-xl);
    font-weight: var(--fw-bold);
    color: var(--text-primary);
  }
  .product-gallery-modal .product-details-modal-content .product-meta {
    font-size: var(--fs-sm);
    color: var(--text-secondary);
    display: flex;
    align-items: center;
    gap: var(--spacing-2);
  }
  .product-gallery-modal .product-details-modal-content .product-rating i {
    color: var(--warning);
    font-size: var(--fs-sm);
  }
  .product-gallery-modal .product-details-modal-content .product-price {
    font-size: var(--fs-2xl);
    color: var(--primary);
    font-weight: var(--fw-bold);
  }
  .product-gallery-modal .product-details-modal-content .product-options {
    font-size: var(--fs-base);
    gap: var(--spacing-2);
  }
  .product-gallery-modal .product-details-modal-content .color-swatch {
    display: inline-flex;
    width: 28px;
    height: 28px;
    border-radius: 50%;
    border: 2px solid var(--border-color);
    align-items: center;
    justify-content: center;
    margin-right: var(--spacing-2);
    cursor: pointer;
    transition: border-color var(--transition-base);
    position: relative;
  }
  .product-gallery-modal .product-details-modal-content .color-swatch.active {
    border-color: var(--primary);
  }
  .product-gallery-modal .product-details-modal-content .color-swatch i {
    color: var(--white);
    font-size: var(--fs-base);
  }
  .product-gallery-modal .product-details-modal-content .quantity-group {
    width: 160px;
  }
  .product-gallery-modal .product-details-modal-content .quantity-input {
    width: 48px;
    min-width: 32px;
    text-align: center;
  }
  .product-gallery-modal .product-details-modal-content .product-total {
    font-size: var(--fs-base);
  }
  .product-gallery-modal .product-details-modal-content .product-total .text-primary {
    font-size: var(--fs-lg);
  }
  .product-gallery-modal .product-details-modal-content .product-total .text-muted {
    font-size: var(--fs-xs2);
  }
  .product-gallery-modal .product-details-modal-content .product-actions .btn {
    min-width: 120px;
    font-size: var(--fs-base);
  }
  .product-gallery-modal .product-details-modal-row {
    display: flex;
    gap: var(--spacing-6);
    align-items: flex-start;
  }
  .product-gallery-modal .product-details-modal-gallery {
    min-width: 320px;
    max-width: 340px;
  }
  .product-gallery-modal .product-details-modal-info {
    flex: 1;
    min-width: 220px;
  }
  .modal-open {
    overflow: hidden;
  }
  .product-gallery-modal.active {
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  .product-gallery-content,
  .product-details-modal-content {
    max-height: 90vh;
    overflow-y: auto;
  }
  </style>
</head>
<body>

<!-- Eye Button -->
<button class="deal-eye" data-modal-id="modal-1"><i class="fa fa-eye"></i> Open Modal</button>

<!-- Modal -->
<div id="modal-1" class="product-gallery-modal">
  <div class="product-gallery-overlay"></div>
  <div class="product-gallery-content product-details-modal-content">
    <button class="product-gallery-close" aria-label="Close">&times;</button>
    <div class="product-details-modal-row">
      <!-- Left: Gallery -->
      <div class="product-details-modal-gallery">
        <div class="product-gallery-main-img">
          <img src="../assets/frontend/images/products/1.webp" alt="Product Large" id="galleryLargeImg">
        </div>
        <div class="product-gallery-thumbnails">
          <img src="../assets/frontend/images/products/1.webp" alt="Thumb 1" class="gallery-thumb active" data-img="../assets/frontend/images/products/1.webp">
          <img src="../assets/frontend/images/products/2.webp" alt="Thumb 2" class="gallery-thumb" data-img="../assets/frontend/images/products/2.webp">
          <img src="../assets/frontend/images/products/3.webp" alt="Thumb 3" class="gallery-thumb" data-img="../assets/frontend/images/products/3.webp">
        </div>
      </div>
      <!-- Right: Details -->
      <div class="product-details-modal-info">
        <h3 class="product-title mb-3">iPhone 14 Pro Max</h3>
        <div class="product-meta mb-3">
          <span class="product-rating">
            <i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i>
            <span>(0)</span>
          </span>
          <span class="mx-2">|</span>
          <span class="product-reviews">0 Reviews</span>
          <span class="mx-2">|</span>
          <span class="product-orders">36 Orders</span>
          <span class="mx-2">|</span>
          <span class="product-wishlist">0 Wish Listed</span>
        </div>
        <div class="product-price mb-3">$1,149.00</div>
        <div class="product-options mb-3">
          <div class="mb-3 d-flex align-items-center">
            <span class="fw-semibold">Color:</span>
            <span class="color-swatch active ms-2"><i class="fa fa-check"></i></span>
            <span class="color-swatch"></span>
          </div>
          <div class="mb-3 d-flex align-items-center">
            <span class="fw-semibold me-2">Quantity :</span>
            <div class="input-group quantity-group">
              <button class="btn btn-outline-secondary btn-sm quantity-minus">-</button>
              <input type="text" class="form-control form-control-sm text-center quantity-input" value="1">
              <button class="btn btn-outline-secondary btn-sm quantity-plus">+</button>
            </div>
          </div>
        </div>
        <div class="product-total mb-3">
          <span class="fw-semibold">Total Price :</span>
          <span class="text-primary fw-bold">$1,206.45</span>
          <span class="text-muted ms-2">(Tax : $57.45)</span>
        </div>
        <div class="product-actions d-flex gap-2 mb-3">
          <button class="btn btn-warning fw-bold">Buy now</button>
          <button class="btn btn-primary fw-bold">Add to cart</button>
          <button class="btn btn-outline-secondary"><i class="fa fa-heart"></i> <span>0</span></button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- JS -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    document.querySelectorAll('.deal-eye').forEach(function (btn) {
      btn.addEventListener('click', function (e) {
        e.preventDefault();
        const modalId = btn.getAttribute('data-modal-id');
        const modal = document.getElementById(modalId);
        console.log({ modalId, modal }); // âœ… Confirm in console
        if (!modal) return;
        modal.classList.add('active');
        document.body.classList.add('modal-open');
      });
    });

    document.querySelectorAll('.product-gallery-close').forEach(function (btn) {
      btn.addEventListener('click', function () {
        const modal = this.closest('.product-gallery-modal');
        modal.classList.remove('active');
        document.body.classList.remove('modal-open');
      });
    });
  });
</script>

</body>
</html>
